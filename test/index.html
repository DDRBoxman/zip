<!DOCTYPE html>
<html>
    <body>
        <input type="file">
        <!-- <script src="https://unpkg.com/wasm-flate@0.1.11-alpha/dist/bootstrap.js"></script> -->
        <!-- <script src="../dependencies/pako.js"></script> -->
        <script type="module">
            import { ZipArchive } from "../dist/zip_default.js";

            const file_picker = document.querySelector("input");
            file_picker.addEventListener("change", async () => {
                const file = file_picker.files[0];

                const archive = await ZipArchive.from_blob(file);

                for (const f of archive.files()) {
                    console.log(f);
                }

                const str = await archive.get("idb-2.1.1/lib/node.js").get_string();

                console.log(str);
                
                const output = await archive.to_blob();

                console.log(output);

                const result = await ZipArchive.from_blob(output);

                for (const f of result.files()) {
                    console.log(f);
                }
            });
        </script>
    </body>
</html>